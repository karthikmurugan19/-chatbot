/* Inter */
@import url('https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,100..900&display=swap');

*{ margin:0; padding:0; box-sizing:border-box; font-family:"Inter",sans-serif; }

:root{
  --hp-primary:#005568;
  --hp-primary-10:#0055683a;
  --hp-bg:#fff;
  --ring:#cccce5;
}

/* Subtle white â†’ light grey gradient */
body{
  display:flex; align-items:center; justify-content:center;
  min-height:100vh;
  background: linear-gradient(135deg, #ffffff, #f5f5f5);
}

/* Material icons baseline */
.material-symbols-rounded{
  font-variation-settings: 'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
}

/* Shell */
.chatbot-popup{
  position:relative; width:420px; background:var(--hp-bg); overflow:hidden;
  border-radius:15px;
  box-shadow:0 0 128px 0 rgba(0,0,0,.1), 0 32px 64px -48px rgba(0,0,0,.5);
}

/* Header */
.chat-header{
  display:flex; align-items:center; justify-content:space-between;
  background:var(--hp-primary); padding:15px 22px;
}
.chat-header .header-info{ display:flex; gap:10px; align-items:center; }
.header-info .chatbot-logo{ height:40px; width:40px; padding:6px; flex-shrink:0; background:#fff; border-radius:50%; }
.header-info .logo-text{ color:#fff; font-size:1.5rem; font-weight:600; }

#toggle-chatbot{
  border:none; color:#fff; height:40px; width:40px; font-size:1.9rem;
  margin-right:-10px; padding-top:2px; cursor:pointer; border-radius:50%; background:none; transition:.2s;
}
#toggle-chatbot:hover{ background:#002a33; }
.chatbot-popup.collapsed #toggle-chatbot{ transform:rotate(180deg); }

/* Animated content wrapper */
.chat-content{
  max-height: 720px;           /* enough to show body + footer */
  overflow: hidden;
  transition: max-height .28s ease, opacity .28s ease;
  opacity: 1;
}
.chatbot-popup.collapsed .chat-content{
  max-height: 0;
  opacity: 0;
}

/* Body */
.chat-body{
  padding:25px 22px; display:flex; gap:20px; height:460px;
  overflow-y:auto; flex-direction:column; scroll-behavior:smooth;
}
.message{ display:flex; gap:11px; align-items:center; }
.bot-message .bot-avatar{
  height:40px; width:40px; padding:6px; flex-shrink:0; margin-bottom:2px; align-self:flex-end;
  background:var(--hp-primary-10); border-radius:50%;
}
.user-message{ flex-direction:column; align-items:flex-end; }
.message .message-text{ padding:12px 16px; max-width:75%; font-size:.95rem; }

.bot-message.thinking .message-text{ padding:2px 16px; }
.bot-message .message-text{ background:var(--hp-primary-10); border-radius:13px 13px 13px 3px; }
.user-message .message-text{ color:#fff; background:var(--hp-primary); border-radius:13px 13px 3px 13px; }

/* typing dots */
.thinking-indicator{ display:flex; gap:4px; padding-block:15px; }
.thinking-indicator .dot{
  height:7px; width:7px; opacity:.7; border-radius:50%; background:var(--hp-primary);
  animation:dotPulse 2s ease-in-out infinite;
}
.thinking-indicator .dot:nth-child(1){ animation-delay:.2s; }
.thinking-indicator .dot:nth-child(2){ animation-delay:.3s; }
.thinking-indicator .dot:nth-child(3){ animation-delay:.4s; }
@keyframes dotPulse{
  0%,44%{ transform:translateY(0); }
  28%,44%{ opacity:.4; transform:translateY(-4px); }
}

/* Footer / Form */
.chat-footer{ background:#fff; padding:15px 22px 20px; }
.chat-form{
  display:flex; align-items:center; background:#fff; border-radius:32px; outline:1px solid var(--ring);
}
.chat-form:focus-within{ outline:2px solid var(--hp-primary); }

.message-input{
  border:none; outline:none; height:47px; width:100%; resize:none;
  font-size:.95rem; padding:14px 0 13px 18px; border-radius:inherit;
}

.chat-contorls{
  display:flex; height:47px; gap:3px; align-items:center; align-self:flex-end; padding-right:6px;
}
.chat-contorls button{
  height:35px; width:35px; border:none; font-size:1.15rem; cursor:pointer;
  color:var(--hp-primary); background:none; border-radius:50%; transition:.2s;
}
.chat-contorls button:hover{ background:var(--hp-primary-10); }
.chat-contorls #send-message{ color:#fff; display:none; background:var(--hp-primary); }
.chat-contorls #send-message:hover{ background:#002a33; }

/* Show Send when text OR attachments exist */
.message-input:valid ~ .chat-contorls #send-message{ display:block; }
.chat-form.has-attachments .chat-contorls #send-message{ display:block; }

/* Optional preview styles */
.user-message .image-preview-wrap img,
.bot-message .image-preview-wrap img{
  width:120px; height:120px; object-fit:cover; border-radius:12px; border:1px solid #e5e7eb;
}

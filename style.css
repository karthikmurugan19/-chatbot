@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

*{ margin:0; padding:0; box-sizing:border-box; font-family:"Inter",sans-serif; }

/* Subtle white â†’ light grey gradient */
body{
  min-height:100vh;
  background: linear-gradient(135deg, #ffffff, #f5f5f5);
}

/* Minimized bubble */
#chat-bubble{
  position:fixed; bottom:20px; right:20px; z-index:1000;
  width:56px; height:56px; border-radius:999px; border:none; cursor:pointer;
  display:grid; place-items:center; background:#ffffff;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
  transition:transform .18s ease, box-shadow .18s ease, opacity .2s ease;
}
#chat-bubble:hover{ transform:translateY(-2px); box-shadow:0 14px 36px rgba(0,0,0,.18); }

/* Chat window */
.chatbot-popup{
  position:fixed; right:20px; bottom:86px; z-index:1000;
  width:420px; background:#fff; border-radius:15px; overflow:hidden;
  box-shadow:0 24px 64px rgba(0,0,0,.2);
  transform:translateY(12px) scale(.98); opacity:0; pointer-events:none;
  transition:transform .22s ease, opacity .22s ease;
  display:flex; flex-direction:column;
}
.chatbot-popup.open{ transform:translateY(0) scale(1); opacity:1; pointer-events:auto; }

/* Header */
.chat-header{
  display:flex; align-items:center; justify-content:space-between;
  background:#005568; padding:12px 16px; color:#fff;
}
.header-info{ display:flex; gap:10px; align-items:center; }
.chatbot-logo{ height:36px; width:36px; padding:6px; background:#fff; border-radius:50%; }
.logo-text{ color:#fff; font-size:1.1rem; font-weight:600; }
#minimize-chat{
  border:none; color:#fff; height:36px; width:36px; font-size:1.7rem;
  cursor:pointer; border-radius:50%; background:none; transition:.2s;
}
#minimize-chat:hover{ background:#002a33; }

/* Body */
.chat-body{
  padding:20px 18px; display:flex; gap:16px; height:420px;
  overflow-y:auto; flex-direction:column; scroll-behavior:smooth;
}
.message{ display:flex; gap:11px; align-items:flex-end; }
.message .message-text{ padding:12px 16px; max-width:75%; font-size:.95rem; white-space:pre-wrap; }

.bot-message .message-text{ background:#cfe1e5; border-radius:13px 13px 13px 3px; } /* soft teal bg */
.user-message{ flex-direction:column; align-items:flex-end; }
.user-message .message-text{ color:#fff; background:#005568; border-radius:13px 13px 3px 13px; }

/* THINKING: same bubble size as other bot messages (no narrow container) */
.bot-message.thinking .message-text{
  display:flex; align-items:center; justify-content:center;
  min-height:38px;    /* matches typical line height */
}

/* Compact three-dot indicator */
.thinking-indicator{
  display:flex; gap:6px; /* tighter */
}
.thinking-indicator .dot{
  height:5px; width:5px; /* smaller dots */
  border-radius:50%;
  background:#267281;   /* darker teal for contrast */
  animation:dotPulse 1.4s ease-in-out infinite;
  opacity:.9;
}
.thinking-indicator .dot:nth-child(2){ animation-delay:.15s; }
.thinking-indicator .dot:nth-child(3){ animation-delay:.3s; }

@keyframes dotPulse{
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); opacity:.7; }
}

/* Footer */
.chat-footer{ background:#fff; padding:12px 16px 16px; border-top:1px solid #eee; }
.chat-form{
  display:flex; align-items:center; background:#fff; border-radius:32px;
  outline:1px solid #cccce5;
}
.chat-form:focus-within{ outline:2px solid #005568; }

.message-input{
  border:none; outline:none; height:44px; width:100%; resize:none;
  font-size:.95rem; padding:12px 0 11px 16px; border-radius:inherit;
}
.chat-contorls{
  display:flex; height:44px; gap:3px; align-items:center; align-self:flex-end; padding-right:6px;
}
.chat-contorls button{
  height:34px; width:34px; border:none; font-size:1.25rem; cursor:pointer;
  color:#005568; background:none; border-radius:50%; transition:.2s;
}
.chat-contorls button:hover{ background:#00556822; }
#send-message{ color:#fff; display:none; background:#005568; }
#send-message:hover{ background:#002a33; }

/* Show Send when text OR attachments exist */
.message-input:valid ~ .chat-contorls #send-message{ display:block; }
.chat-form.has-attachments .chat-contorls #send-message{ display:block; }

/* Preview thumbnails in user bubble (optional) */
.user-message .image-preview-wrap img{
  width:120px; height:120px; object-fit:cover; border-radius:12px; border:1px solid #e5e7eb;
}

/* Emoji Mart popup layer */
.emoji-mart{ z-index: 2000; }
